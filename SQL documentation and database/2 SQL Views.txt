CREATE VIEW CHWStaffViewAppointment AS SELECT appointment.StaffIdentifier, patient.PatientIdentifier,appointment.AppointmentIdentifier, appointment.AppointmentDate, appointment.AppointmentTime, Patient.PatientName, Patient.PatientSurname, patient.Address, patient.PhoneNumber, patient.EmailAddress, patient.Gender, patient.Age FROM appointment INNER JOIN Patient ON appointment.PatientIdentifier = Patient.PatientIdentifier WHERE appointment.AppointmentType = 3;
CREATE VIEW CHWStaffViewHouseholdMembers AS SELECT chwtopatientassignments.StaffIdentifier,patient.PatientIdentifier, Patient.PatientName, Patient.PatientSurname, patient.Address, patient.PhoneNumber AS patientPhoneNumber, patient.EmailAddress AS patientEmailAddress, householdmember.HMIdentifier, householdmember.MemberName, householdmember.MemberSurname,householdmember.RelationshipWithPatient, householdmember.CellphoneNumber as householdMemberPhoneNumber, householdmember.EmailAddress AS householdMemberEmailAddress,householdmember.ExistingMedicalConditions FROM patient INNER JOIN householdmember ON patient.PatientIdentifier = householdmember.PatientIdentifier INNER JOIN chwtopatientassignments ON patient.PatientIdentifier = chwtopatientassignments.PatientIdentifier ORDER BY PatientIdentifier;
CREATE VIEW CHWDetailedPatientAssignment AS SELECT chwtopatientassignments.StaffIdentifier, patient.PatientIdentifier, Patient.PatientName, Patient.PatientSurname, patient.Address, patient.PhoneNumber, patient.EmailAddress, patient.Age, patient.Gender FROM patient INNER JOIN chwtopatientassignments ON patient.PatientIdentifier = chwtopatientassignments.PatientIdentifier ORDER BY chwtopatientassignments.StaffIdentifier;
CREATE VIEW CHWDetailedBloodSugarResults AS SELECT chwtest.CHWTestIdentifier, appointment.StaffIdentifier, appointment.AppointmentIdentifier , appointment.PatientIdentifier, patient.PatientName, patient.PatientSurname, appointment.AppointmentDate, appointment.AppointmentTime, chwtest.BloodSugarLevelmmolPerL FROM appointment INNER JOIN chwtest ON appointment.AppointmentIdentifier = chwtest.AppointmentIdentifier INNER JOIN patient ON appointment.PatientIdentifier = patient.PatientIdentifier ORDER BY appointment.AppointmentDate DESC;
CREATE VIEW CHWDetailedDrugAdministration AS SELECT chwdrugadministration.AdministrationIdentifier, CHWDetailedBloodSugarResults.CHWTestIdentifier, CHWDetailedBloodSugarResults.StaffIdentifier, CHWDetailedBloodSugarResults.AppointmentDate, CHWDetailedBloodSugarResults.AppointmentTime, CHWDetailedBloodSugarResults.PatientName, CHWDetailedBloodSugarResults.PatientSurname,CHWDetailedBloodSugarResults.BloodSugarLevelmmolPerL, chwdrugadministration.DrugAdministered, chwdrugadministration.DrugDosageINmg FROM chwdrugadministration INNER JOIN CHWDetailedBloodSugarResults ON CHWDetailedBloodSugarResults.CHWTestIdentifier  = chwdrugadministration.CHWTestIdentifier ORDER BY CHWDetailedBloodSugarResults.CHWTestIdentifier DESC;
CREATE VIEW receptionistViewOfAppointments AS SELECT appointment.AppointmentDate, appointment.AppointmentTime, Patient.PatientName, Patient.PatientSurname, staff.StaffName, staff.StaffSurname, AppointmentType.AppointmentType, appointment.Attendence, appointment.Location, appointment.PatientIdentifier, appointment.StaffIdentifier FROM appointment INNER JOIN Patient ON appointment.PatientIdentifier = Patient.PatientIdentifier INNER JOIN Staff ON appointment.StaffIdentifier = Staff.StaffIdentifier INNER JOIN appointmenttype ON appointment.AppointmentType = AppointmentType.TypeIdentifier;
CREATE VIEW HospitalClinicialAppointments AS SELECT appointment.ScheduledBy, appointment.Description, appointment.Attendence, appointment.ClinicalFindings, appointment.AppointmentDate, appointment.AppointmentTime, Patient.PatientName, Patient.PatientSurname, Patient.Gender, Patient.Age, Patient.Pregnant, Patient.Diabetic, Patient.HIVPositive, AppointmentType.AppointmentType, appointment.PatientIdentifier, appointment.StaffIdentifier FROM appointment INNER JOIN Patient ON appointment.PatientIdentifier = Patient.PatientIdentifier INNER JOIN appointmenttype ON appointment.AppointmentType = AppointmentType.TypeIdentifier;
CREATE VIEW PharmasistAndHospitalClinicialPrescriptions AS SELECT patientprescription.MedicineDosage, medicine.medicineName, medicine.medicineDescription, patienttreatment.TreatmentDescription, patienttreatment.AppointmentIdentifier FROM patientprescription INNER JOIN patienttreatment ON patientprescription.TreatmentIdentifier = patienttreatment.TreatmentIdentifier INNER JOIN medicine ON patientprescription.medicineIdentifier = Medicine.MedicineIdentifier;
CREATE VIEW LabTechnicianAndHospitalClinicialDetailedDiagnosticTest AS SELECT diagnostictest.TestType, diagnostictest.TestResult, Staff.StaffName, Staff.StaffSurname, Patient.PatientName, Patient.PatientSurname, Appointment.AppointmentDate, Appointment.AppointmentTime from diagnostictest inner join staff on Staff.StaffIdentifier = diagnostictest.StaffIdentifier inner join appointment on appointment.AppointmentIdentifier = diagnostictest.AppointmentIdentifier inner join patient on appointment.patientIdentifier = patient.patientIdentifier;



DROP VIEW `CHWDetailedDrugAdministration`; 
DROP VIEW `CHWDetailedBloodSugarResults`; 
DROP VIEW `CHWStaffViewHouseholdMembers`; 
DROP VIEW `CHWDetailedPatientAssignment`;
DROP VIEW `CHWStaffViewAppointment`; 

DROP VIEW `receptionistViewOfAppointments`; 
DROP VIEW `HospitalClinicialAppointments`; 

DROP VIEW `PharmasistAndHospitalClinicialPrescriptions`; 
DROP VIEW `LabTechnicianAndHospitalClinicialDetailedDiagnosticTest`; 

